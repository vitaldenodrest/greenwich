%%(encoding:utf-8)
%% author: Frédéric Boulanger, frederic.boulanger@centralesupelec.fr
%% author: Vital de Nodrest %%FLAG
%% copyright CentraleSupélec 2025 %%FLAG
%% v1.1.gre: greenwich %%FLAG
%% v1.1: fixed width of frame title text, added commands for the logo
%% v1.0: initial release
%%
%% Options:
%%   rounded (default=true): use rounded rectangles for blocks and titles
%%   shadow  (default=true): draw a shadow for rounded rectangles (requires 'rounded')
%%
\ProvidesPackage{beamerthemecs}[2025/10/01 v1.1.gre Beamer theme for CentraleSupelec x University of Greenwich collaboration] %%FLAG
\RequirePackage{tikz}
\RequirePackage{graphicx}

\DeclareOptionBeamer{rounded}[false]{%
  \def\beamer@themecs@rounded{#1}%
}
\DeclareOptionBeamer{shadow}[false]{%
  \def\beamer@themecs@shadow{#1}%
}
\ExecuteOptionsBeamer{rounded}
\ExecuteOptionsBeamer{shadow}
\ProcessOptionsBeamer

\pgfdeclareimage[height=8mm]{logocs}{beamerthemecslogo}
\pgfdeclareimage[height=8mm]{logogre}{beamerthemegrelogo}

%%TODO logo gre without text

\newcommand{\logocstext}[1][1.0]{%
  \scalebox{#1}{\pgfuseimage{logocs}}%
}

%%TODO logo gre without text

\newcommand{\logogretext}[1][1.0]{%
  \scalebox{#1}{\pgfuseimage{logogre}}%
}

\newcommand*{\mylistSettings}{%
  \setlength{\itemsep}{0pt}%
  \setlength{\parsep}{0pt}%
}

\newcount\beamer@themecs@seconds
\newcount\beamer@themecs@minutes
\newcount\beamer@themecs@hours
\newcount\beamer@themecs@tmpcount

\newcommand{\timestamp}{%
  \the\year-%
  \ifnum\the\month<10 0\fi\the\month-%
  \ifnum\the\day<100\fi\the\day\space
  \beamer@themecs@minutes=\time
  \beamer@themecs@hours=\beamer@themecs@minutes
  \divide\beamer@themecs@hours by 60%
  \beamer@themecs@tmpcount=\beamer@themecs@hours
  \multiply\beamer@themecs@tmpcount by 60%
  \advance\beamer@themecs@minutes-\beamer@themecs@tmpcount
  \the\beamer@themecs@hours:%
  \ifnum\beamer@themecs@minutes<10 0\fi\the\beamer@themecs@minutes
}

\mode<presentation>

\usecolortheme{cs}
\useoutertheme{cs}
\usefonttheme{cs}
\useinnertheme[rounded=\beamer@themecs@rounded,shadow=\beamer@themecs@shadow]{cs}

%\setbeamerfont{block title}{size={}}

\mode
<all>

\endinput
